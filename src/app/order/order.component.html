<div *ngIf="orders && orders.length > 0">
  <h2>Order History</h2>
  <ul>
    <li *ngFor="let order of orders">
      <div>
        <p>Total Price: {{ order.totalPrice }}</p>
        <p>Status: {{ order.status }}</p>
      </div>
      <div>
        <h4>Order Products:</h4>
        <ul *ngIf="order && order.orderProducts && order.orderProducts.length > 0">
          <li *ngFor="let product of order.orderProducts">
            {{ product.name }} 
          </li> 
        </ul>
        <p *ngIf="!order || (!order.orderProducts || order.orderProducts.length === 0)">No order products found for this order.</p>
      </div>
    </li>
  </ul>
</div>

<p *ngIf="!orders || orders.length === 0">No orders found.</p>
<p *ngIf="user === undefined">User not found.</p>